(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0e8814"],{"8a0e":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",[s("div",{staticClass:"q-pa-md full-width "},[s("q-card",{attrs:{bordered:""}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v("欢迎学员")]),s("div",{staticClass:"text-body1"},[t._v(t._s(t.studentInfo))])]),s("q-separator",{attrs:{inset:""}})],1),s("br"),s("div",{staticClass:"text-center text-h6"},[t._v("以下是所有的教师, 点击后即可关注")]),s("q-scroll-area",{attrs:{offset:250}},t._l(t.teachers,function(e,a){return s("div",{key:a,on:{click:function(s){return t.followTeacher(e)}}},[s("q-item",[s("q-item-section",[s("q-item-label",{staticClass:"text-h6 cn-bold-font",staticStyle:{"font-size":"15px"}},[t._v("\n              教师 "+t._s(e.nickname)+"\n            ")]),s("q-item-label",{staticClass:"text-primary"},[t._v("\n              "+t._s(e.follow_status)+"\n            ")])],1)],1),s("q-separator",{attrs:{spaced:"",inset:""}})],1)}),0)],1)])},n=[],o=(s("55dd"),s("bc3a")),r=s.n(o),i={data:function(){return{studentInfo:"",teachers:null,followedTeachers:[]}},mounted:function(){var t=this,e=this;r.a.get("student").then(function(t){e.studentInfo=t["data"]}).catch(function(t){var s=t.response.data.message;t.response.status>=400&&t.response.status<500&&(s="用户身份已经过期, 请重新登录"),e.$q.notify({multiLine:!0,color:"negative",message:s}),e.$router.push({path:"/auth"})}).then(function(){}),r.a.get("teachers").then(function(s){for(var a in e.teachers=s["data"],t.teachers){var n=t.teachers[a];n.followed.length?n.follow_status="已关注":n.follow_status=""}}).catch(function(t){var s=t.response.data.message;t.response.status>=400&&t.response.status<500&&(s="用户身份已经过期, 请重新登录"),e.$q.notify({multiLine:!0,color:"negative",message:s}),e.$router.push({path:"/auth"})}).then(function(){})},methods:{followTeacher:function(t,e){var s=this;r.a.post("student/follow_teacher",{teacher_id:t.id}).then(function(e){var a="关注成功 !";t.follow_status="已关注",s.teachers.sort(),"unfollowing"===e.data.follows_status&&(t.follow_status="",a="取消关注成功 !"),s.$q.notify({color:"info",icon:"thumb_up",message:a,timeout:500})}).catch(function(t){var e=t.response.data.message;s.$q.notify({multiLine:!0,color:"negative",message:e})}).then(function(){})}}},c=i,l=s("2877"),u=Object(l["a"])(c,a,n,!1,null,null,null);e["default"]=u.exports}}]);